jQuery.extend({empty:function(t){var a;return t==a||null==t||""==$.trim(t)},replaceAll:function(t,a,e){return t.replace(new RegExp(a,"gm"),e)}}),function($){$.fn.linkSelect2=function(t,a,e){var n=$("#"+t),e=e?e:$(n).attr("name");$(this).select2({ajax:{url:function(t){var r=n.val();return a+"?"+(e+r?r:"")}}}),n.on("change",function(){$(this).val(null).trigger("change")})},$.fn.linkSelect=function(to,url,options){var target=$("#"+to),that=this,paramName=$(target).attr("name"),defaultOptions={paramName:paramName,addBlank:!0,valueProp:"value",textProp:"text"};options=$.extend(defaultOptions,options);var valueProp=options.valueProp,textProp=options.textProp,addBlank=void 0==typeof options.addBlank||options.addBlank;paramName=options.paramName,target.on("change",function(){$(that).find("option").remove(),addBlank&&$(that).append('<option value="">请选择</option>');var param=$(target).val(),srcId=$(target).attr("id"),vId=$("#"+srcId+"Id").val();if(vId&&(param=vId),param){var q={ajax:!0};q[paramName]=param,$.getJSON(url,q,function(res){res&&res.content&&res.content.length&&$.each(res.content,function(i,item){$(that).append('<option value="'+(valueProp?item.id:eval("item."+valueProp))+'">'+(textProp?item.displayLabel:eval("item."+textProp))+"</option>")})})}})}}(jQuery);